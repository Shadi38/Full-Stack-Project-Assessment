{"version":3,"sources":["Videos.js","App.js","index.js"],"names":["Videos","props","loadVideo","setLoadVideo","title","setTitleData","useState","url","setUrlData","React","createElement","Fragment","className","style","width","show","onSubmit","e","preventDefault","newVideo","rating","fetch","method","headers","body","JSON","stringify","then","response","json","data","updatedData","catch","err","console","error","htmlFor","id","value","onChange","target","required","borderRadius","type","onClick","setShow","length","map","item","index","videoId","split","key","display","marginBottom","newRating","video","thumbUpHandeler","FaThumbsUp","margin","thumbDownHandeler","FaThumbsDown","color","height","src","frameBorder","allow","allowFullScreen","ok","Error","filter","deleteBtnHandler","fontWeight","App","showVideos","setShowVideos","order","setOrder","orderClickHandler","newOrder","sortedVideos","sort","a","b","useEffect","async","getData","handleClick","background","disabled","backgroundColor","ReactDOM","render","BrowserRouter","document","getElementById"],"mappings":"2MAyLeA,MAtLf,SAAgBC,GACd,MAAM,UAAEC,EAAS,aAAEC,GAAiBF,GAC7BG,EAAOC,GAAgBC,mBAAS,KAChCC,EAAKC,GAAcF,mBAAS,IAwGnC,OACEG,IAAAC,cAAAD,IAAAE,SAAA,KACEF,IAAAC,cAAA,OAAKE,UAAU,OAAOC,MAAO,CAAEC,MAAO,UACnCb,EAAMc,MACLN,IAAAC,cAAA,QAAME,UAAU,UAAUC,MAAO,CAAEC,MAAO,SAAWE,SAtG7D,SAA0BC,GACxBA,EAAEC,iBACF,MAAMC,EAAW,CAAEf,MAAOA,EAAOG,IAAKA,EAAKa,OAAQ,GACnDC,MAAM,qEAAsE,CAC1EC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEpBQ,KAAMC,GAAaA,EAASC,QAC5BF,KAAMG,IACL,MAAMC,EAAc,IAAI7B,EAAW4B,GACnC3B,EAAa4B,GACb1B,EAAa,IACbG,EAAW,MAEZwB,MAAOC,IACNC,QAAQC,MAAM,sBAAuBF,OAqFjCxB,IAAAC,cAAA,OAAKE,UAAU,eACbH,IAAAC,cAAA,SAAO0B,QAAQ,SAAQ,SACvB3B,IAAAC,cAAA,SACEE,UAAU,YACVyB,GAAG,QACHC,MAAOlC,EACPmC,SAAWtB,GAAMZ,EAAaY,EAAEuB,OAAOF,OACvCG,UAAQ,KAGZhC,IAAAC,cAAA,OAAKE,UAAU,eACbH,IAAAC,cAAA,SAAO0B,QAAQ,OAAM,OACrB3B,IAAAC,cAAA,SACEE,UAAU,YACVyB,GAAG,MACHC,MAAO/B,EACPgC,SAAWtB,GAAMT,EAAWS,EAAEuB,OAAOF,OACrCG,UAAQ,KAGZhC,IAAAC,cAAA,OAAKE,UAAU,gBACbH,IAAAC,cAAA,UAAQG,MAAO,CAAE6B,aAAc,GAAKC,KAAK,SAASC,QAhI9D,SAA0B3B,GACxBhB,EAAM4C,SAAQ,KA+HyE,UAG7EpC,IAAAC,cAAA,UAAQG,MAAO,CAAE6B,aAAc,GAAKC,KAAK,UAAS,SAMxDlC,IAAAC,cAAA,OAAKE,UAAU,kBACZV,EAAU4C,OAAS,EAClB5C,EAAU6C,IAAI,CAACC,EAAMC,KACnB,MAAMC,EAAUF,EAAKzC,IAAI4C,MAAM,MAAM,GACrC,OACE1C,IAAAC,cAAA,OAAK0C,IAAKH,EAAOrC,UAAU,aACzBH,IAAAC,cAAA,OAAKG,MAAO,CAAEwC,QAAS,OAAQC,aAAc,KAC3C7C,IAAAC,cAAA,UAAQE,UAAU,WAAWgC,QAASA,IA/FxD,SAAyBI,GACvB,MAAMO,EAAYP,EAAK5B,OAAS,EAC1BD,EAAW,CACfkB,GAAIW,EAAKX,GACTjC,MAAO4C,EAAK5C,MACZG,IAAKyC,EAAKzC,IACVa,OAAQmC,GAGVlC,MAAM,sEAAsE2B,EAAKX,GAAM,CACrFf,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEpBQ,KAAMC,GAAaA,EAASC,QAC5BF,KAAK,KACJ,MAAMI,EAAc7B,EAAU6C,IAAKS,GACjCA,EAAMnB,KAAOW,EAAKX,GAAK,IAAKmB,EAAOpC,OAAQmC,GAAcC,GAE3DrD,EAAa4B,KAEdC,MAAOG,IACND,QAAQC,MAAM,wBAAyBA,KAuEiBsB,CAAgBT,IAC1DvC,IAAAC,cAACgD,IAAU,OAEbjD,IAAAC,cAAA,KAAGG,MAAO,CAAE8C,OAAQ,IAAMX,EAAK5C,OAC/BK,IAAAC,cAAA,UAAQE,UAAU,WAAWgC,QAASA,IAvExD,SAA2BI,GACzB,MAAMO,EAAYP,EAAK5B,OAAS,EAC1BD,EAAW,CACfkB,GAAIW,EAAKX,GACTjC,MAAO4C,EAAK5C,MACZG,IAAKyC,EAAKzC,IACVa,OAAQmC,GAGVlC,MAAM,sEAAsE2B,EAAKX,GAAM,CACrFf,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEpBQ,KAAMC,GAAaA,EAASC,QAC5BF,KAAK,KACJ,MAAMI,EAAc7B,EAAU6C,IAAKS,GACjCA,EAAMnB,KAAOW,EAAKX,GAAK,IAAKmB,EAAOpC,OAAQmC,GAAcC,GAE3DrD,EAAa4B,KAkD2C6B,CAAkBZ,IAC5DvC,IAAAC,cAACmD,IAAY,QAGjBpD,IAAAC,cAAA,KAAGG,MAAO,CAAEiD,MAAO,UAAYd,EAAK5B,QACpCX,IAAAC,cAAA,UACEI,MAAM,MACNiD,OAAO,MACPC,IAAK,iCAAiCd,EACtC9C,MAAM,uBACN6D,YAAY,IACZC,MAAM,2FACNC,iBAAe,IAEjB1D,IAAAC,cAAA,UAAQE,UAAU,eAAegC,QAASA,IAxI1D,SAA0BI,GACxB3B,MAAM,sEAAsE2B,EAAKX,GAAM,CACrFf,OAAQ,SACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUsB,KAEpBrB,KAAMC,IACL,IAAKA,EAASwC,GACZ,MAAM,IAAIC,MAAM,0BAElB,OAAOzC,EAASC,SAEjBF,KAAK,KACJ,MAAMI,EAAc7B,EAAUoE,OAAQd,GAAUA,EAAMnB,KAAOW,EAAKX,IAClElC,EAAa4B,KAEdC,MAAOG,IACND,QAAQC,MAAM,wBAAyBA,KAqHmBoC,CAAiBvB,IAAO,aAO9EvC,IAAAC,cAAA,KAAGG,MAAO,CAAE2D,WAAY,OAAQV,MAAO,UAAW,qBC7D/CW,MA3Gf,WACE,MAAOC,EAAYC,GAAiBrE,oBAAS,IACtCJ,EAAWC,GAAgBG,mBAAS,KACpCsE,EAAOC,GAAYvE,mBAAS,OAsBnC,SAASwE,EAAkB7D,EAAG8D,GAG5B,GAFA9D,EAAEC,iBAEe,QAAb6D,EAAoB,CACtB,MAAMC,EAAe,IAAI9E,GAAW+E,KAAK,CAACC,EAAGC,IAAMD,EAAE9D,OAAS+D,EAAE/D,QAChEjB,EAAa6E,GACbH,EAAS,WACJ,CACL,MAAMG,EAAe,IAAI9E,GAAW+E,KAAK,CAACC,EAAGC,IAAMA,EAAE/D,OAAS8D,EAAE9D,QAChEjB,EAAa6E,GACbH,EAAS,SA9BbO,oBAAU,KACQC,WACd,IACE,MAAMzD,QAAiBP,MACpB,sEAEH,IAAKO,EAASwC,GACZ,MAAM,IAAIC,MAAM,wBAElB,MAAMvC,QAAaF,EAASC,OAE5BC,EAAKmD,KAAK,CAACC,EAAGC,IAAMA,EAAE/D,OAAS8D,EAAE9D,QAC1BjB,EAAa2B,GACpB,MAAOK,GACPD,QAAQC,MAAM,uBAAwBA,KAG1CmD,IACC,IAgBH,MAAMC,EAAetE,IACnBA,EAAEC,iBACFyD,GAAc,IAGhB,OACElE,IAAAC,cAAA,OAAKE,UAAU,OACbH,IAAAC,cAAA,UAAQE,UAAU,aAChBH,IAAAC,cAAA,MAAIG,MAAO,CAAE2E,WAAY,UAAW1B,MAAO,UAAW,yBAIxDrD,IAAAC,cAAA,OAAKE,UAAU,OACbH,IAAAC,cAAA,OAAKE,UAAU,YACbH,IAAAC,cAAA,SAAG,oBACHD,IAAAC,cAAA,UACEkC,QAAU3B,GAAM6D,EAAkB7D,EAAG,OACrCwE,SAAoB,QAAVb,GACX,OAIDnE,IAAAC,cAAA,UACEkC,QAAU3B,GAAM6D,EAAkB7D,EAAG,QACrCwE,SAAoB,SAAVb,GACX,SAIHnE,IAAAC,cAAA,OAAKG,MAAO,CAAE6E,gBAAiB,aAC/BjF,IAAAC,cAAA,UAAQkC,QAASA,IAAI2C,GAAa,UAClC9E,IAAAC,cAACV,EAAM,CACDe,KAAM2D,EACN7B,QAAS8B,EACTzE,UAAWA,EACXC,aAAcA,O,OC7E5BwF,IAASC,OACPnF,IAAAC,cAACmF,IAAa,KACZpF,IAAAC,cAAC+D,EAAG,OAENqB,SAASC,eAAe,U","file":"static/js/main.0760ff92.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { FaThumbsUp, FaThumbsDown } from \"react-icons/fa\";\n\nfunction Videos(props) {\n  const { loadVideo, setLoadVideo } = props;\n  const [title, setTitleData] = useState(\"\");\n  const [url, setUrlData] = useState(\"\");\n\n  function cancelBtnHandler(e) {\n    props.setShow(false);\n  }\n\n  function addClickHandeler(e) {\n    e.preventDefault();\n    const newVideo = { title: title, url: url, rating: 0 };\n    fetch(\"http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(newVideo),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        const updatedData = [...loadVideo, data];\n        setLoadVideo(updatedData);\n        setTitleData(\"\");\n        setUrlData(\"\");\n      })\n      .catch((err) => {\n        console.error(\"Error adding video:\", err);\n      });\n  }\n\n  function deleteBtnHandler(item) {\n    fetch(`http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos/${item.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(item),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Failed to delete video\");\n        }\n        return response.json();\n      })\n      .then(() => {\n        const updatedData = loadVideo.filter((video) => video.id !== item.id);\n        setLoadVideo(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error deleting video:\", error);\n      });\n  }\n\n  function thumbUpHandeler(item) {\n    const newRating = item.rating + 1;\n    const newVideo = {\n      id: item.id,\n      title: item.title,\n      url: item.url,\n      rating: newRating,\n    };\n\n    fetch(`http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos/${item.id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(newVideo),\n    })\n      .then((response) => response.json())\n      .then(() => {\n        const updatedData = loadVideo.map((video) =>\n          video.id === item.id ? { ...video, rating: newRating } : video\n        );\n        setLoadVideo(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error updating video:\", error);\n      });\n  }\n\n  function thumbDownHandeler(item) {\n    const newRating = item.rating - 1;\n    const newVideo = {\n      id: item.id,\n      title: item.title,\n      url: item.url,\n      rating: newRating,\n    };\n\n    fetch(`http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos/${item.id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(newVideo),\n    })\n      .then((response) => response.json())\n      .then(() => {\n        const updatedData = loadVideo.map((video) =>\n          video.id === item.id ? { ...video, rating: newRating } : video\n        );\n        setLoadVideo(updatedData);\n      });\n  }\n\n  return (\n    <>\n      <div className=\"main\" style={{ width: \"100vw\" }}>\n        {props.show && (\n          <form className=\"formDiv\" style={{ width: \"100vw\" }} onSubmit={addClickHandeler}>\n            <div className=\"input-group\">\n              <label htmlFor=\"title\">Title</label>\n              <input\n                className=\"lineInput\"\n                id=\"title\"\n                value={title}\n                onChange={(e) => setTitleData(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"url\">Url</label>\n              <input\n                className=\"lineInput\"\n                id=\"url\"\n                value={url}\n                onChange={(e) => setUrlData(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"addCancelBtn\">\n              <button style={{ borderRadius: 5 }} type=\"button\" onClick={cancelBtnHandler}>\n                Cancel\n              </button>\n              <button style={{ borderRadius: 5 }} type=\"submit\">\n                Add\n              </button>\n            </div>\n          </form>\n        )}\n        <div className=\"mainShowVideos\">\n          {loadVideo.length > 0 ? (\n            loadVideo.map((item, index) => {\n              const videoId = item.url.split(\"v=\")[1];\n              return (\n                <div key={index} className=\"showVideo\">\n                  <div style={{ display: \"flex\", marginBottom: 10 }}>\n                    <button className=\"thumbBtn\" onClick={() => thumbUpHandeler(item)}>\n                      <FaThumbsUp />\n                    </button>\n                    <p style={{ margin: 5 }}>{item.title}</p>\n                    <button className=\"thumbBtn\" onClick={() => thumbDownHandeler(item)}>\n                      <FaThumbsDown />\n                    </button>\n                  </div>\n                  <p style={{ color: \"black\" }}>{item.rating}</p>\n                  <iframe\n                    width=\"350\"\n                    height=\"200\"\n                    src={`https://www.youtube.com/embed/${videoId}`}\n                    title=\"YouTube video player\"\n                    frameBorder=\"0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                    allowFullScreen\n                  ></iframe>\n                  <button className=\"btnShowVideo\" onClick={() => deleteBtnHandler(item)}>\n                    Delete\n                  </button>\n                </div>\n              );\n            })\n          ) : (\n            <p style={{ fontWeight: \"bold\", color: \"white\" }}>Loading . . .</p>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Videos;\n","\nimport React, { useState, useEffect } from \"react\";\n\nimport { Route, Routes, Link } from \"react-router-dom\";\n\n\nimport \"./App.css\";\nimport Videos from \"./Videos.js\";\n\nfunction App() {\n  const [showVideos, setShowVideos] = useState(false);\n  const [loadVideo, setLoadVideo] = useState([]);\n  const [order, setOrder] = useState(\"ase\");\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const response = await fetch(\n           \"http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos\"\n        );\n        if (!response.ok) {\n          throw new Error(\"something went wrong\");\n        }\n        const data = await response.json();\n        //descending according to the rating\n        data.sort((a, b) => b.rating - a.rating);\n        return setLoadVideo(data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    getData();\n  }, []);\n\n  function orderClickHandler(e, newOrder) {\n    e.preventDefault();\n\n    if (newOrder === \"asc\") {\n      const sortedVideos = [...loadVideo].sort((a, b) => a.rating - b.rating);\n      setLoadVideo(sortedVideos);\n      setOrder(\"asc\");\n    } else {\n      const sortedVideos = [...loadVideo].sort((a, b) => b.rating - a.rating);\n      setLoadVideo(sortedVideos);\n      setOrder(\"desc\");\n    }\n  }\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    setShowVideos(true);\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"appHeader\">\n        <h1 style={{ background: \"#97CAEF\", color: \"black\" }}>\n          Video Recommendation\n        </h1>\n      </header>\n      <nav className=\"nav\">\n        <div className=\"orderBtn\">\n          <p>order by rate : </p>\n          <button\n            onClick={(e) => orderClickHandler(e, \"asc\")}\n            disabled={order === \"asc\"}\n          >\n            Ase\n          </button>\n\n          <button\n            onClick={(e) => orderClickHandler(e, \"desc\")}\n            disabled={order === \"desc\"}\n          >\n            Desc\n          </button>\n        </div>\n        <div style={{ backgroundColor: \"#55BCC9\" }}></div>\n        <button onClick={()=>handleClick}>Videos</button>\n        <Videos\n              show={showVideos}\n              setShow={setShowVideos}\n              loadVideo={loadVideo}\n              setLoadVideo={setLoadVideo}\n            />\n        {/* <Link\n          to=\"/videos\"\n          style={{\n            color: \"#FC4445\",\n            marginLeft: 20,\n            textDecoration: \"none\",\n            fontWeight: \"bold\",\n          }}\n          onClick={() => setShowVideos(true)}\n        >\n          Videos\n        </Link> */}\n      </nav>\n      {/* <Routes>\n        <Route\n          path=\"/videos\"\n          element={\n            <Videos\n              show={showVideos}\n              setShow={setShowVideos}\n              loadVideo={loadVideo}\n              setLoadVideo={setLoadVideo}\n            />\n          }\n        />\n      </Routes> */}\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter> \n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n// import React from 'react';\n// import ReactDOM from 'react-dom/client'; \n// import './index.css';\n// import App from './App';\n// import { BrowserRouter } from 'react-router-dom';\n\n// // Use createRoot instead of render\n// const root = ReactDOM.createRoot(document.getElementById('root'));\n// root.render(\n//   <BrowserRouter basename=\"/\">\n//     <App />\n//   </BrowserRouter>\n// );\n\n\n"],"sourceRoot":""}