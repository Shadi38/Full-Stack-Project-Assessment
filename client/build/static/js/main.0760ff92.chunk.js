(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(1),c=a.n(r),l=(a(13),a(14),a(3));var i=function(e){const{loadVideo:t,setLoadVideo:a}=e,[r,c]=Object(n.useState)(""),[i,s]=Object(n.useState)("");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"main",style:{width:"100vw"}},e.show&&o.a.createElement("form",{className:"formDiv",style:{width:"100vw"},onSubmit:function(e){e.preventDefault();const n={title:r,url:i,rating:0};fetch("http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>e.json()).then(e=>{const n=[...t,e];a(n),c(""),s("")}).catch(e=>{console.error("Error adding video:",e)})}},o.a.createElement("div",{className:"input-group"},o.a.createElement("label",{htmlFor:"title"},"Title"),o.a.createElement("input",{className:"lineInput",id:"title",value:r,onChange:e=>c(e.target.value),required:!0})),o.a.createElement("div",{className:"input-group"},o.a.createElement("label",{htmlFor:"url"},"Url"),o.a.createElement("input",{className:"lineInput",id:"url",value:i,onChange:e=>s(e.target.value),required:!0})),o.a.createElement("div",{className:"addCancelBtn"},o.a.createElement("button",{style:{borderRadius:5},type:"button",onClick:function(t){e.setShow(!1)}},"Cancel"),o.a.createElement("button",{style:{borderRadius:5},type:"submit"},"Add"))),o.a.createElement("div",{className:"mainShowVideos"},t.length>0?t.map((e,n)=>{const r=e.url.split("v=")[1];return o.a.createElement("div",{key:n,className:"showVideo"},o.a.createElement("div",{style:{display:"flex",marginBottom:10}},o.a.createElement("button",{className:"thumbBtn",onClick:()=>function(e){const n=e.rating+1,o={id:e.id,title:e.title,url:e.url,rating:n};fetch("http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos/"+e.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(()=>{const o=t.map(t=>t.id===e.id?{...t,rating:n}:t);a(o)}).catch(e=>{console.error("Error updating video:",e)})}(e)},o.a.createElement(l.b,null)),o.a.createElement("p",{style:{margin:5}},e.title),o.a.createElement("button",{className:"thumbBtn",onClick:()=>function(e){const n=e.rating-1,o={id:e.id,title:e.title,url:e.url,rating:n};fetch("http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos/"+e.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(()=>{const o=t.map(t=>t.id===e.id?{...t,rating:n}:t);a(o)})}(e)},o.a.createElement(l.a,null))),o.a.createElement("p",{style:{color:"black"}},e.rating),o.a.createElement("iframe",{width:"350",height:"200",src:"https://www.youtube.com/embed/"+r,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),o.a.createElement("button",{className:"btnShowVideo",onClick:()=>function(e){fetch("http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos/"+e.id,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw new Error("Failed to delete video");return e.json()}).then(()=>{const n=t.filter(t=>t.id!==e.id);a(n)}).catch(e=>{console.error("Error deleting video:",e)})}(e)},"Delete"))}):o.a.createElement("p",{style:{fontWeight:"bold",color:"white"}},"Loading . . ."))))};var s=function(){const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)([]),[c,l]=Object(n.useState)("ase");function s(e,t){if(e.preventDefault(),"asc"===t){const e=[...a].sort((e,t)=>e.rating-t.rating);r(e),l("asc")}else{const e=[...a].sort((e,t)=>t.rating-e.rating);r(e),l("desc")}}Object(n.useEffect)(()=>{(async()=>{try{const e=await fetch("http://ec2-13-43-88-72.eu-west-2.compute.amazonaws.com:3000/videos");if(!e.ok)throw new Error("something went wrong");const t=await e.json();t.sort((e,t)=>t.rating-e.rating),r(t)}catch(e){console.error("Error fetching data:",e)}})()},[]);const d=e=>{e.preventDefault(),t(!0)};return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"appHeader"},o.a.createElement("h1",{style:{background:"#97CAEF",color:"black"}},"Video Recommendation")),o.a.createElement("nav",{className:"nav"},o.a.createElement("div",{className:"orderBtn"},o.a.createElement("p",null,"order by rate : "),o.a.createElement("button",{onClick:e=>s(e,"asc"),disabled:"asc"===c},"Ase"),o.a.createElement("button",{onClick:e=>s(e,"desc"),disabled:"desc"===c},"Desc")),o.a.createElement("div",{style:{backgroundColor:"#55BCC9"}}),o.a.createElement("button",{onClick:()=>d},"Videos"),o.a.createElement(i,{show:e,setShow:t,loadVideo:a,setLoadVideo:r})))},d=a(2);c.a.render(o.a.createElement(d.a,null,o.a.createElement(s,null)),document.getElementById("root"))},5:function(e,t,a){e.exports=a(15)}},[[5,1,2]]]);
//# sourceMappingURL=main.0760ff92.chunk.js.map